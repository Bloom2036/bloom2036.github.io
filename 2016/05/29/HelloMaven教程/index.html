<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="just do IT,Maven," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="你没饿死，你应该感谢袁隆平。
Hawking算法指南
hello maven构建编写PomMaven项目的核心是 pom 。 pom 作为项目对象模型。通过 xml 表示 maven 项目，使用 pom.xml 来实现。主要描述了项目：包括配置文件；开发者需要遵循的规则，缺陷管理系统，组织和licenses，项目的url，项目的依赖性，以及其他所有的项目相关因素。
下面我们就为hello-mave">
<meta property="og:type" content="article">
<meta property="og:title" content="HelloMaven教程">
<meta property="og:url" content="http://yoursite.com/2016/05/29/HelloMaven教程/index.html">
<meta property="og:site_name" content="Bloom's Blog">
<meta property="og:description" content="你没饿死，你应该感谢袁隆平。
Hawking算法指南
hello maven构建编写PomMaven项目的核心是 pom 。 pom 作为项目对象模型。通过 xml 表示 maven 项目，使用 pom.xml 来实现。主要描述了项目：包括配置文件；开发者需要遵循的规则，缺陷管理系统，组织和licenses，项目的url，项目的依赖性，以及其他所有的项目相关因素。
下面我们就为hello-mave">
<meta property="og:updated_time" content="2016-05-29T13:35:24.149Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="HelloMaven教程">
<meta name="twitter:description" content="你没饿死，你应该感谢袁隆平。
Hawking算法指南
hello maven构建编写PomMaven项目的核心是 pom 。 pom 作为项目对象模型。通过 xml 表示 maven 项目，使用 pom.xml 来实现。主要描述了项目：包括配置文件；开发者需要遵循的规则，缺陷管理系统，组织和licenses，项目的url，项目的依赖性，以及其他所有的项目相关因素。
下面我们就为hello-mave">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"always"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'LiYinghao'
    }
  };
</script>

  <title> HelloMaven教程 | Bloom's Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Bloom's Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Bloom For Flower</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            目录
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                HelloMaven教程
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-05-29T21:08:03+08:00" content="2016-05-29">
              2016-05-29
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <blockquote><p>你没饿死，你应该感谢袁隆平。</p>
<footer><strong>Hawking</strong><cite>算法指南</cite></footer></blockquote>
<h2 id="hello-maven构建"><a href="#hello-maven构建" class="headerlink" title="hello maven构建"></a>hello maven构建</h2><h3 id="编写Pom"><a href="#编写Pom" class="headerlink" title="编写Pom"></a>编写Pom</h3><p>Maven项目的核心是 pom 。 pom 作为项目对象模型。通过 xml 表示 maven 项目，使用 pom.xml 来实现。主要描述了项目：包括配置文件；<br>开发者需要遵循的规则，缺陷管理系统，组织和licenses，项目的url，项目的依赖性，以及其他所有的项目相关因素。</p>
<p>下面我们就为hello-maven项目写一个简单的pom.xml。<br><a id="more"></a><br>首先在工作空间创建一个名为 hello-maven 的文件夹，进入 hello-maven 文件夹，在目录下新建一个 pom.xml 文件， xml 文件内容如下：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line">&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</span><br><span class="line">    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0  </span><br><span class="line">    http://maven.apache.org/maven-v4_0_0.xsd"&gt;</span><br><span class="line">    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</span><br><span class="line">    &lt;groupId&gt;com.jiang.exercise&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;hello-maven&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</span><br><span class="line">    &lt;name&gt;Hello Maven Project&lt;/name&gt;</span><br><span class="line">&lt;/project&gt;</span><br></pre></td></tr></table></figure></p>
<p>代码的第一行是 xml 头，指定了该 xml 文档的版本和编码方式。紧接着是 project 元素， project 是所有 pom.xml 的根元素，它还声明了一些 POM 相关的命名空间及 xsd 元素，虽然这些属性不是必须的，但使用这些属性能够让第三方工具（如 IDE 中的 XML 编辑器）帮助我们快速编辑 POM 。根元素下的第一个子元素 modelVersion 指定了当前 POM 模型的版本，对于 Maven 2 及 Maven 3 来说，它只能是 4.0.0。</p>
<p>这段代码中最重要的是 groupId ， artifactId 和 version 三行。这三个元素定义了一个项目基本的坐标，在 Maven 的世界，任何的 jar、pom 或者 war 都是以基于这些基本的坐标进行区分的。</p>
<p>groupId 定义了项目属于哪个组，这个组往往和项目所在的组织或公司存在关联，譬如你在 googlecode 上建立了一个名为 myapp 的项目，那么 groupId 就应该是 com.googlecode.myapp，如果你的公司是 mycom ，有一个项目为 myapp ，那么 groupId 就应该是 com.mycom.myapp。</p>
<p>artifactId 定义了当前 Maven 项目在组中唯一的 ID ，我们为这个 Hello Maven 项目定义 artifactId 为 hello-maven 。而在前面的 groupId 为 com.googlecode.myapp 的例子中，你可能会为不同的子项目（模块）分配 artifactId ，如： myapp-util、myapp-domain 等等。</p>
<p>顾名思义， version 指定了 Hello Maven 项目当前的版本 –1.0-SNAPSHOT 。 SNAPSHOT 意为快照，说明该项目还处于开发中，是不稳定的版本。随着项目的发展， version 会不断更新，如升级为1.0、1.0-SNAPSHOT、2.0 等等。</p>
<p>最后一个 name 元素声明了一个对于用户更为友好的项目名称，虽然这不是必须的，但我还是推荐为每个 POM 声明 name ，以方便信息交流。</p>
<p>没有任何实际的 Java 代码，我们就能够定义一个 Maven 项目的 POM ，这体现了 Maven 的一大优点，它能让项目对象模型最大程度地与实际代码相独立，我们可以称之为解耦，或者正交性，这在很大程度上避免了 Java 代码和 POM 代码的相互影响。比如当项目需要升级版本时，只需要修改 POM ，而不需要更改 Java 代码；而在 POM 稳定之后，日常的 Java 代码开发工作基本不涉及 POM 的修改。</p>
<h3 id="编写主代码"><a href="#编写主代码" class="headerlink" title="编写主代码"></a>编写主代码</h3><p>项目主代码和测试代码不同，项目的主代码会被打包到最终的构件中（比如jar），而测试代码只在运行测试时用到，不会被打包。默认情况下， Maven 假设项目主代码位于 src/main/java 目录，我们遵循 Maven 的约定，创建该目录，然后在该目录下创建文件 com/jiang/exercise/HelloMaven.java，其内容如代码清单如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.jiang.exercise.hellomaven;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloMaven</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">say</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Hello Maven"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> HelloMaven().say();</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这是一个简单的 java 程序， main 方法中带有一个 “Hello Maven” 的输出，相信大家都不会陌生的。关于该 Java 代码有两点需要注意。首先，在95%以上的情况下，我们应该把项目主代码放到 src/main/java/ 目录下（遵循 Maven 的约定），而无须额外的配置， Maven 会自动搜寻该目录找到项目主代码。其次，该 Java 类的包名是 com.jiang.exercise.hellomaven ，这与我们之前在 POM 中定义的 groupId 和 artifactId 相吻合。一般来说，项目中 Java 类的包都应该基于项目的 groupId 和 artifactId ，这样更加清晰，更加符合逻辑，也方便搜索构件或者 Java 类。</p>
<p>代码编写完毕后，我们使用 Maven 进行编译，打开 cmd 命令窗口，在项目根目录下运行命令：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn clean compile</span><br></pre></td></tr></table></figure></p>
<p>我们会得到如下输出：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[INFO] Scanning <span class="keyword">for</span> projects...</span><br><span class="line">[INFO]</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] Building Hello Maven Project <span class="number">1.0</span>-SNAPSHOT</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO]</span><br><span class="line">[INFO] --- maven-clean-plugin:<span class="number">2.5</span>:clean (<span class="keyword">default</span>-clean) @ hello-maven ---</span><br><span class="line">[INFO] Deleting E:\Workspaces\Maven\hello-maven\target</span><br><span class="line">[INFO]</span><br><span class="line">[INFO] --- maven-resources-plugin:<span class="number">2.6</span>:resources (<span class="keyword">default</span>-resources) @ hello-maven ---</span><br><span class="line">[WARNING] <span class="function">Using platform <span class="title">encoding</span> <span class="params">(GBK actually)</span> to copy filtered resources, i.e. build is platform dependent!</span><br><span class="line">[INFO] skip non existing resourceDirectory E:\Workspaces\Maven\hello-maven\src\main\resources</span><br><span class="line">[INFO]</span><br><span class="line">[INFO] --- maven-compiler-plugin:3.1:<span class="title">compile</span> <span class="params">(<span class="keyword">default</span>-compile)</span> @ hello-maven ---</span><br><span class="line"> </span><br><span class="line">[INFO] Changes detected - recompiling the <span class="keyword">module</span>!</span><br><span class="line">[WARNING] File encoding has not been set, using platform encoding GBK, i.e. build is platform dependent!</span><br><span class="line">[INFO] Compiling 1 source file to E:\Workspaces\Maven\hello-maven\target\classes</span><br><span class="line"> </span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] BUILD SUCCESS</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] Total time: 2.026 s</span><br><span class="line">[INFO] Finished at: 2015-08-16T15:28:24+08:00</span><br><span class="line">[INFO] Final Memory: 12M/123M</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span></span><br></pre></td></tr></table></figure></p>
<p>注意：如果 Maven 是新搭建的话，第一次编译可能会花费一些时间下载 Maven 所需的 jar 包。</p>
<p>clean 告诉 Maven 清理输出目录 target/，compile 告诉 Maven 编译项目主代码，从输出中我们看到 Maven 首先执行了 clean:clean 任务，删除 target/ 目录，默认情况下 Maven 构建的所有输出都在 target/ 目录中；接着执行 resources:resources 任务（未定义项目资源，暂且略过）；最后执行 compiler:compile 任务，将项目主代码编译至 target/classes 目录(编译好的类为 com/jiang/exercise/hellomaven/HelloMaven.class）。</p>
<p>上文提到的 clean:clean 、resources:resources，以及 compiler:compile 对应了一些 Maven 插件及插件目标，比如 clean:clean 是 clean 插件的 clean 目标， compiler:compile 是 compile 插件的 compile 目标，后文会详细讲述 Maven 插件及其编写方法。</p>
<p>至此， Maven 在没有任何额外的配置的情况下就执行了项目的清理和编译任务，接下来，我们编写一些单元测试代码并让 Maven 执行自动化测试。</p>
<h3 id="编写测试代码"><a href="#编写测试代码" class="headerlink" title="编写测试代码"></a>编写测试代码</h3><p>为了使项目结构保持清晰，主代码与测试代码应该分别位于独立的目录中。 Maven 项目中默认的主代码目录是 src/main/java ，对应地， Maven 项目中默认的测试代码目录是 src/test/java 。因此，在编写测试用例之前，我们先创建该目录。</p>
<p>在 Java 世界中，由 Kent Beck 和 Erich Gamma 建立的 JUnit 是事实上的单元测试标准。要使用 JUnit ，我们首先需要为 Hello Maven 项目添加一个 JUnit 依赖，修改项目的 POM 如下：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line">&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</span><br><span class="line">    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0</span><br><span class="line">http://maven.apache.org/maven-v4_0_0.xsd"&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</span><br><span class="line">    &lt;groupId&gt;com.jiang.exercise&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;hello-maven&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</span><br><span class="line">    &lt;name&gt;Hello Maven Project&lt;/name&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;dependencies&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;junit&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;junit&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;4.7&lt;/version&gt;</span><br><span class="line">            &lt;scope&gt;test&lt;/scope&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">    &lt;/dependencies&gt;</span><br><span class="line"> </span><br><span class="line">&lt;/project&gt;</span><br></pre></td></tr></table></figure></p>
<p>代码中添加了 dependencies 元素，该元素下可以包含多个 dependency 元素以声明项目的依赖，这里我们添加了一个依赖—— groupId 是 junit ， artifactId 是 junit ， version 是 4.7 。前面我们提到 groupId 、 artifactId 和 version 是任何一个 Maven 项目最基本的坐标， JUnit 也不例外，有了这段声明， Maven 就能够自动下载 junit-4.7.jar 。也许你会问， Maven 从哪里下载这个 jar 呢？在 Maven 之前，我们可以去 JUnit 的官网下载分发包。而现在有了 Maven ，它会自动访问<a href="http://repo1.maven.org/maven2/" target="_blank" rel="external">中央仓库</a>，下载需要的文件。读者也可以自己访问该仓库，打开路径 junit/junit/4.7/ ，就能看到 junit-4.7.pom 和 junit-4.7.jar。</p>
<p>上述 POM 代码中还有一个值为 test 的元素 scope ， scope 为依赖范围，若依赖范围为 test 则表示该依赖只对测试有效，换句话说，测试代码中的 import  JUnit 代码是没有问题的，但是如果我们在主代码中用 import JUnit 代码，就会造成编译错误。如果不声明依赖范围，那么默认值就是 compile ，表示该依赖对主代码和测试代码都有效。</p>
<p>配置了测试依赖，接着就可以编写测试类，回顾一下前面的 HelloWorld 类，现在我们要测试该类的 say() 方法，检查其返回值是否为 “Hello Maven” 。在 src/test/java 目录下创建文件，其内容如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.jiang.exercise.hellomaven;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.assertEquals;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloMavenTest</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSay</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        HelloMaven hm = <span class="keyword">new</span> HelloMaven();</span><br><span class="line">        hm.say();</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>一个典型的单元测试包含三个步骤：<br>一，准备测试类及数据；<br>二，执行要测试的行为；<br>三，检查结果。<br>上述样例中，我们首先初始化了一个要测试的 HelloMaven 实例，接着执行该实例的 say()  方法，最后使用 JUnit 框架的 Assert 类检查结果是否为我们期望的 ”Hello Maven” 。在 JUnit 3 中，约定所有需要执行测试的方法都以 test 开头，这里我们使用了 JUnit  4 ，但我们仍然遵循这一约定，在 JUnit 4 中，需要执行的测试方法都应该以 @Test 进行标注。</p>
<p>测试用例编写完毕之后就可以调用 Maven 执行测试，运行 mvn clean test ，输出如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">[INFO] Scanning <span class="keyword">for</span> projects...</span><br><span class="line">[INFO]</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] Building Hello Maven Project <span class="number">1.0</span>-SNAPSHOT</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO]</span><br><span class="line">[INFO] --- maven-clean-plugin:<span class="number">2.5</span>:clean (<span class="keyword">default</span>-clean) @ hello-maven ---</span><br><span class="line">[INFO] Deleting E:\Workspaces\Maven\hello-maven\target</span><br><span class="line">[INFO]</span><br><span class="line">[INFO] --- maven-resources-plugin:<span class="number">2.6</span>:resources (<span class="keyword">default</span>-resources) @ hello-maven ---</span><br><span class="line">[WARNING] <span class="function">Using platform <span class="title">encoding</span> <span class="params">(GBK actually)</span> to copy filtered resources, i.e. build is platform dependent!</span><br><span class="line">[INFO] skip non existing resourceDirectory E:\Workspaces\Maven\hello-maven\src\main\resources</span><br><span class="line">[INFO]</span><br><span class="line">[INFO] --- maven-compiler-plugin:3.1:<span class="title">compile</span> <span class="params">(<span class="keyword">default</span>-compile)</span> @ hello-maven ---</span><br><span class="line"> </span><br><span class="line">[INFO] Changes detected - recompiling the <span class="keyword">module</span>!</span><br><span class="line">[WARNING] File encoding has not been set, using platform encoding GBK, i.e. build is platform dependent!</span><br><span class="line">[INFO] Compiling 1 source file to E:\Workspaces\Maven\hello-maven\target\classes</span><br><span class="line"> </span><br><span class="line">[INFO]</span><br><span class="line">[INFO] --- maven-resources-plugin:2.6:<span class="title">testResources</span> <span class="params">(<span class="keyword">default</span>-testResources)</span> @ hello-maven ---</span><br><span class="line">[WARNING] Using platform <span class="title">encoding</span> <span class="params">(GBK actually)</span> to copy filtered resources, i.e. build is platform dependent!</span><br><span class="line">[INFO] skip non existing resourceDirectory E:\Workspaces\Maven\hello-maven\src\test\resources</span><br><span class="line">[INFO]</span><br><span class="line">[INFO] --- maven-compiler-plugin:3.1:<span class="title">testCompile</span> <span class="params">(<span class="keyword">default</span>-testCompile)</span> @ hello-maven ---</span><br><span class="line">[INFO] Changes detected - recompiling the <span class="keyword">module</span>!</span><br><span class="line">[WARNING] File encoding has not been set, using platform encoding GBK, i.e. build is platform dependent!</span><br><span class="line">[INFO] Compiling 1 source file to E:\Workspaces\Maven\hello-maven\target\test-classes</span><br><span class="line">[INFO]</span><br><span class="line">[INFO] --- maven-surefire-plugin:2.12.4:<span class="title">test</span> <span class="params">(<span class="keyword">default</span>-test)</span> @ hello-maven ---</span><br><span class="line">[INFO] Surefire report directory: E:\Workspaces\Maven\hello-maven\target\surefire-reports</span><br><span class="line"> </span><br><span class="line">-------------------------------------------------------</span><br><span class="line">T E S T S</span><br><span class="line">-------------------------------------------------------</span><br><span class="line">Running com.jiang.exercise.hellomaven.HelloMavenTest</span><br><span class="line">Hello Maven</span><br><span class="line">Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.041 sec</span><br><span class="line"> </span><br><span class="line">Results :</span><br><span class="line"> </span><br><span class="line">Tests run: 1, Failures: 0, Errors: 0, Skipped: 0</span><br><span class="line"> </span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] BUILD SUCCESS</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] Total time: 1.645 s</span><br><span class="line">[INFO] Finished at: 2015-08-16T16:11:23+08:00</span><br><span class="line">[INFO] Final Memory: 13M/123M</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span></span><br></pre></td></tr></table></figure></p>
<p>我们看到 compiler:testCompile 任务执行成功了，测试代码通过编译之后在 target/test-classes 下生成了二进制文件，紧接着 surefire:test 任务运行测试， surefire 是 Maven 世界中负责执行测试的插件，这里它运行测试用例 HelloMavenTest ，并且输出测试报告，显示一共运行了多少测试，失败了多少，出错了多少，跳过了多少。显然，我们的测试通过了—— BUILD SUCCESSFUL。</p>
<h3 id="打包运行"><a href="#打包运行" class="headerlink" title="打包运行"></a>打包运行</h3><p>将项目进行编译、测试之后，下一个重要步骤就是打包（package）。 Hello Maven 的 POM 中没有指定打包类型，使用默认打包类型 jar ，我们可以简单地执行命令：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn clean <span class="keyword">package</span></span><br></pre></td></tr></table></figure></p>
<p>进行打包，可以看到如下输出：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">[INFO] Scanning <span class="keyword">for</span> projects...</span><br><span class="line">[INFO]</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] Building Hello Maven Project <span class="number">1.0</span>-SNAPSHOT</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO]</span><br><span class="line">[INFO] --- maven-clean-plugin:<span class="number">2.5</span>:clean (<span class="keyword">default</span>-clean) @ hello-maven ---</span><br><span class="line">[INFO] Deleting E:\Workspaces\Maven\hello-maven\target</span><br><span class="line">[INFO]</span><br><span class="line">[INFO] --- maven-resources-plugin:<span class="number">2.6</span>:resources (<span class="keyword">default</span>-resources) @ hello-mavn ---</span><br><span class="line">[WARNING] <span class="function">Using platform <span class="title">encoding</span> <span class="params">(GBK actually)</span> to copy filtered resources, i.. build is platform dependent!</span><br><span class="line">[INFO] skip non existing resourceDirectory E:\Workspaces\Maven\hello-maven\src\ain\resources</span><br><span class="line">[INFO]</span><br><span class="line">[INFO] --- maven-compiler-plugin:3.1:<span class="title">compile</span> <span class="params">(<span class="keyword">default</span>-compile)</span> @ hello-maven --</span><br><span class="line"> </span><br><span class="line">[INFO] Changes detected - recompiling the <span class="keyword">module</span>!</span><br><span class="line">[WARNING] File encoding has not been set, using platform encoding GBK, i.e. buid is platform dependent!</span><br><span class="line">[INFO] Compiling 1 source file to E:\Workspaces\Maven\hello-maven\target\classe</span><br><span class="line"> </span><br><span class="line">[INFO]</span><br><span class="line">[INFO] --- maven-resources-plugin:2.6:<span class="title">testResources</span> <span class="params">(<span class="keyword">default</span>-testResources)</span> @ hllo-maven ---</span><br><span class="line">[WARNING] Using platform <span class="title">encoding</span> <span class="params">(GBK actually)</span> to copy filtered resources, i.. build is platform dependent!</span><br><span class="line">[INFO] skip non existing resourceDirectory E:\Workspaces\Maven\hello-maven\src\est\resources</span><br><span class="line">[INFO]</span><br><span class="line">[INFO] --- maven-compiler-plugin:3.1:<span class="title">testCompile</span> <span class="params">(<span class="keyword">default</span>-testCompile)</span> @ hello-aven ---</span><br><span class="line">[INFO] Changes detected - recompiling the <span class="keyword">module</span>!</span><br><span class="line">[WARNING] File encoding has not been set, using platform encoding GBK, i.e. buid is platform dependent!</span><br><span class="line">[INFO] Compiling 1 source file to E:\Workspaces\Maven\hello-maven\target\test-casses</span><br><span class="line">[INFO]</span><br><span class="line">[INFO] --- maven-surefire-plugin:2.12.4:<span class="title">test</span> <span class="params">(<span class="keyword">default</span>-test)</span> @ hello-maven ---</span><br><span class="line">[INFO] Surefire report directory: E:\Workspaces\Maven\hello-maven\target\surefie-reports</span><br><span class="line"> </span><br><span class="line">-------------------------------------------------------</span><br><span class="line">T E S T S</span><br><span class="line">-------------------------------------------------------</span><br><span class="line">Running com.jiang.exercise.hellomaven.HelloMavenTest</span><br><span class="line">Hello Maven</span><br><span class="line">Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.038 sec</span><br><span class="line"> </span><br><span class="line">Results :</span><br><span class="line"> </span><br><span class="line">Tests run: 1, Failures: 0, Errors: 0, Skipped: 0</span><br><span class="line"> </span><br><span class="line">[INFO]</span><br><span class="line">[INFO] --- maven-jar-plugin:2.4:<span class="title">jar</span> <span class="params">(<span class="keyword">default</span>-jar)</span> @ hello-maven ---</span><br><span class="line">[INFO] Building jar: E:\Workspaces\Maven\hello-maven\target\hello-maven-1.0-SNASHOT.jar</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] BUILD SUCCESS</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] Total time: 1.838 s</span><br><span class="line">[INFO] Finished at: 2015-08-16T16:17:09+08:00</span><br><span class="line">[INFO] Final Memory: 15M/123M</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span></span><br></pre></td></tr></table></figure>
<p>类似地， Maven 会在打包之前执行编译、测试等操作。这里我们看到 jar:jar 任务负责打包，实际上就是 jar 插件的 jar 目标将项目主代码打包成一个名为 hello-maven-1.0-SNAPSHOT.jar 的文件，该文件也位于 target/ 输出目录中，它是根据 artifact-version.jar 规则进行命名的，如有需要，我们还可以使用 finalName 来自定义该文件的名称。</p>
<p>至此，我们得到了项目的输出，如果有需要的话，就可以复制这个jar文件到其他项目的 Classpath 中从而使用 HelloMaven 类。但是，如何才能让其他的 Maven 项目直接引用这个 jar 呢？我们还需要一个安装的步骤，执行<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn clean install</span><br></pre></td></tr></table></figure></p>
<p>可以看到如下输出：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">[INFO] Scanning <span class="keyword">for</span> projects...</span><br><span class="line">[INFO]</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] Building Hello Maven Project <span class="number">1.0</span>-SNAPSHOT</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO]</span><br><span class="line">[INFO] --- maven-clean-plugin:<span class="number">2.5</span>:clean (<span class="keyword">default</span>-clean) @ hello-maven ---</span><br><span class="line">[INFO] Deleting E:\Workspaces\Maven\hello-maven\target</span><br><span class="line">[INFO]</span><br><span class="line">[INFO] --- maven-resources-plugin:<span class="number">2.6</span>:resources (<span class="keyword">default</span>-resources) @ hello-maven ---</span><br><span class="line">[WARNING] <span class="function">Using platform <span class="title">encoding</span> <span class="params">(GBK actually)</span> to copy filtered resources, i.e. build is platform dependent!</span><br><span class="line">[INFO] skip non existing resourceDirectory E:\Workspaces\Maven\hello-maven\src\main\resources</span><br><span class="line">[INFO]</span><br><span class="line">[INFO] --- maven-compiler-plugin:3.1:<span class="title">compile</span> <span class="params">(<span class="keyword">default</span>-compile)</span> @ hello-maven ---</span><br><span class="line"> </span><br><span class="line">[INFO] Changes detected - recompiling the <span class="keyword">module</span>!</span><br><span class="line">[WARNING] File encoding has not been set, using platform encoding GBK, i.e. build is platform dependent!</span><br><span class="line">[INFO] Compiling 1 source file to E:\Workspaces\Maven\hello-maven\target\classes</span><br><span class="line"> </span><br><span class="line">[INFO]</span><br><span class="line">[INFO] --- maven-resources-plugin:2.6:<span class="title">testResources</span> <span class="params">(<span class="keyword">default</span>-testResources)</span> @ hello-maven ---</span><br><span class="line">[WARNING] Using platform <span class="title">encoding</span> <span class="params">(GBK actually)</span> to copy filtered resources, i.e. build is platform dependent!</span><br><span class="line">[INFO] skip non existing resourceDirectory E:\Workspaces\Maven\hello-maven\src\test\resources</span><br><span class="line">[INFO]</span><br><span class="line">[INFO] --- maven-compiler-plugin:3.1:<span class="title">testCompile</span> <span class="params">(<span class="keyword">default</span>-testCompile)</span> @ hello-maven ---</span><br><span class="line">[INFO] Changes detected - recompiling the <span class="keyword">module</span>!</span><br><span class="line">[WARNING] File encoding has not been set, using platform encoding GBK, i.e. build is platform dependent!</span><br><span class="line">[INFO] Compiling 1 source file to E:\Workspaces\Maven\hello-maven\target\test-classes</span><br><span class="line">[INFO]</span><br><span class="line">[INFO] --- maven-surefire-plugin:2.12.4:<span class="title">test</span> <span class="params">(<span class="keyword">default</span>-test)</span> @ hello-maven ---</span><br><span class="line">[INFO] Surefire report directory: E:\Workspaces\Maven\hello-maven\target\surefire-reports</span><br><span class="line"> </span><br><span class="line">-------------------------------------------------------</span><br><span class="line">T E S T S</span><br><span class="line">-------------------------------------------------------</span><br><span class="line">Running com.jiang.exercise.hellomaven.HelloMavenTest</span><br><span class="line">Hello Maven</span><br><span class="line">Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.037 sec</span><br><span class="line"> </span><br><span class="line">Results :</span><br><span class="line"> </span><br><span class="line">Tests run: 1, Failures: 0, Errors: 0, Skipped: 0</span><br><span class="line"> </span><br><span class="line">[INFO]</span><br><span class="line">[INFO] --- maven-jar-plugin:2.4:<span class="title">jar</span> <span class="params">(<span class="keyword">default</span>-jar)</span> @ hello-maven ---</span><br><span class="line">[INFO] Building jar: E:\Workspaces\Maven\hello-maven\target\hello-maven-1.0-SNAPSHOT.jar</span><br><span class="line">[INFO]</span><br><span class="line">[INFO] --- maven-install-plugin:2.4:<span class="title">install</span> <span class="params">(<span class="keyword">default</span>-install)</span> @ hello-maven ---</span><br><span class="line">[INFO] Installing E:\Workspaces\Maven\hello-maven\target\hello-maven-1.0-SNAPSHOT.jar to C:\Users\jiangyg\.m2\repository\com\jiang\exercise\hello-maven\1.0-SNAPSHOT\hello-maven-1.0-SNAPSHOT.jar</span><br><span class="line">[INFO] Installing E:\Workspaces\Maven\hello-maven\pom.xml to C:\Users\jiangyg\.m2\repository\com\jiang\exercise\hello-maven\1.0-SNAPSHOT\hello-maven-1.0-SNAPSHOT.pom</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] BUILD SUCCESS</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] Total time: 1.733 s</span><br><span class="line">[INFO] Finished at: 2015-08-16T16:25:02+08:00</span><br><span class="line">[INFO] Final Memory: 16M/123M</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span></span><br></pre></td></tr></table></figure>
<p>在打包之后，我们又执行了安装任务 install:install ，从输出我们看到该任务将项目输出的 jar 安装到了 Maven 本地仓库中，我们可以打开相应的文件夹看到 Hello World 项目的 pom 和 jar 。之前讲述 JUnit 的 POM 及 jar 的下载的时候，我们说只有构件被下载到本地仓库后，才能由所有 Maven 项目使用，这里是同样的道理，只有将 Hello World 的构件安装到本地仓库之后，其他 Maven 项目才能使用它。</p>
<p>我们已经将体验了 Maven 最主要的命令：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mvn clean compile</span><br><span class="line">mvn clean test</span><br><span class="line">mvn clean <span class="keyword">package</span></span><br><span class="line">mvn clean install</span><br></pre></td></tr></table></figure></p>
<p>执行 test 之前是会先执行 compile 的，执行 package 之前是会先执行 test 的，而类似地， install 之前会执行 package 。我们可以在任何一个 Maven 项目中执行这些命令，而且我们已经清楚它们是用来做什么的。</p>
<p>到目前为止，我们还没有运行 Hello Maven 项目，不要忘了 HelloMaven 类可是有一个 main 方法的。默认打包生成的 jar 是不能够直接运行的，因为带有 main 方法的类信息不会添加到 manifest 中(我们可以打开jar文件中的META-INF/MANIFEST.MF文件，将无法看到Main-Class一行)。为了生成可执行的 jar 文件，我们需要借助 maven-shade-plugin ，修改 pom.xml 文件中,配置如下：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line">&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</span><br><span class="line">    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0</span><br><span class="line">http://maven.apache.org/maven-v4_0_0.xsd"&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</span><br><span class="line">    &lt;groupId&gt;com.jiang.exercise&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;hello-maven&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</span><br><span class="line">    &lt;name&gt;Hello Maven Project&lt;/name&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;dependencies&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;junit&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;junit&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;4.7&lt;/version&gt;</span><br><span class="line">            &lt;scope&gt;test&lt;/scope&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">    &lt;/dependencies&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;build&gt;</span><br><span class="line">        &lt;plugins&gt;</span><br><span class="line">            &lt;plugin&gt;</span><br><span class="line">                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;</span><br><span class="line">                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;</span><br><span class="line">                &lt;version&gt;1.2.1&lt;/version&gt;</span><br><span class="line">                &lt;executions&gt;</span><br><span class="line">                    &lt;execution&gt;</span><br><span class="line">                        &lt;phase&gt;package&lt;/phase&gt;</span><br><span class="line">                        &lt;goals&gt;</span><br><span class="line">                            &lt;goal&gt;shade&lt;/goal&gt;</span><br><span class="line">                        &lt;/goals&gt;</span><br><span class="line">                        &lt;configuration&gt;</span><br><span class="line">                            &lt;transformers&gt;</span><br><span class="line">                                &lt;transformer implementation="org.apache.maven.plugins.shade.resource.ManifestResourceTransformer"&gt;</span><br><span class="line">                                    &lt;mainClass&gt;com.jiang.exercise.hellomaven.HelloMaven&lt;/mainClass&gt;</span><br><span class="line">                                &lt;/transformer&gt;</span><br><span class="line">                            &lt;/transformers&gt;</span><br><span class="line">                        &lt;/configuration&gt;</span><br><span class="line">                    &lt;/execution&gt;</span><br><span class="line">                &lt;/executions&gt;</span><br><span class="line">            &lt;/plugin&gt;</span><br><span class="line">        &lt;/plugins&gt;</span><br><span class="line">    &lt;/build&gt;</span><br><span class="line"> </span><br><span class="line">&lt;/project&gt;</span><br></pre></td></tr></table></figure></p>
<p>plugin 元素在 POM 中的相对位置应该在 <project><build><plugins> 下面。我们配置了 mainClass 为 com.jiang.exercise.hellomaven.HelloMaven ，项目在打包时会将该信息放到 MANIFEST 中。现在执行<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn clean install</span><br></pre></td></tr></table></figure></plugins></build></project></p>
<p>待构建完成之后打开 target/ 目录，我们可以看到 hello-maven-1.0-SNAPSHOT.jar 和 original-hello-maven-1.0-SNAPSHOT.jar ，前者是带有 Main-Class 信息的可运行 jar ，后者是原始的 jar ，打开 hello-maven-1.0-SNAPSHOT.jar 的 META-INF/MANIFEST.MF ，可以看到它包含这样一行信息：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Main-Class: com.jiang.exercise.hellomaven.HelloMaven</span><br></pre></td></tr></table></figure></p>
<p>现在，打开 cmd 命令窗口，我们在项目根目录中执行该 jar 文件：java -jar target/hello-maven-1.0-SNAPSHOT.jar</p>
<p>—end—</p>
<p>maven 安装 jar 包命令<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn install:install-file -Dfile=&lt;jar包的位置&gt; -DgroupId=&lt;上面的groupId&gt; -DartifactId=&lt;上面的artifactId&gt; -Dversion=&lt;上面的version&gt; -Dpackaging=jar</span><br></pre></td></tr></table></figure></p>
<p>例如：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn install:install-file -Dfile=E:\test\target\test.jar -DgroupId=com.jiang -DartifactId=test -Dversion=<span class="number">1.0</span> -Dpackaging=jar</span><br></pre></td></tr></table></figure></p>

      
    </div>

    <div>
      
        
      
    </div>

    <div>
      
        
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div>有疑问？有BUG？感觉不错？可以打赏留言给我嘛！</div>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>赏</span>
    </button>
    <div id="QR" style="display: none;">
      
        <div id="wechat" style="display: inline-block">
          <img id="wechat_qr" src="/images/weichat.jpg" alt="LiYinghao WeChat Pay"/>
          <p>微信打赏</p>
        </div>
      
      
        <div id="alipay" style="display: inline-block">
          <img id="alipay_qr" src="/images/ali.jpg" alt="LiYinghao Alipay"/>
          <p>支付宝打赏</p>
        </div>
      
    </div>
  </div>


      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/just-do-IT/" rel="tag">#just do IT</a>
          
            <a href="/tags/Maven/" rel="tag">#Maven</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/05/18/mysql5-7zip安装步骤/" rel="next" title="mysql5.7zip安装步骤">
                <i class="fa fa-chevron-left"></i> mysql5.7zip安装步骤
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/05/29/CSS控制单行过长显示省略号/" rel="prev" title="CSS控制单行过长显示省略号">
                CSS控制单行过长显示省略号 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/1.jpg"
               alt="LiYinghao" />
          <p class="site-author-name" itemprop="name">LiYinghao</p>
          <p class="site-description motion-element" itemprop="description">我听信了 Just do IT , 所以我现在成了程序员。</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">10</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#hello-maven构建"><span class="nav-number">1.</span> <span class="nav-text">hello maven构建</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#编写Pom"><span class="nav-number">1.1.</span> <span class="nav-text">编写Pom</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#编写主代码"><span class="nav-number">1.2.</span> <span class="nav-text">编写主代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#编写测试代码"><span class="nav-number">1.3.</span> <span class="nav-text">编写测试代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#打包运行"><span class="nav-number">1.4.</span> <span class="nav-text">打包运行</span></a></li></ol></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">LiYinghao</span>
</div>

<div class="powered-by">
  Copyright
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  



  
  
  

  

  

</body>
</html>
